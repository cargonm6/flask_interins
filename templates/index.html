<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Buscador de personas interinas (GVA)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='icons/favicon.svg') }}">
    <link rel="icon" sizes="16x16" href="{{ url_for('static', filename='icons/favicon-16x16.png') }}">
    <link rel="icon" sizes="32x32" href="{{ url_for('static', filename='icons/favicon-32x32.png') }}">
    <link rel="icon" sizes="96x96" href="{{ url_for('static', filename='icons/favicon-96x96.png') }}">

    <!-- iOS Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='icons/apple-touch-icon.png') }}">

    <!-- Android Icon -->
    <link rel="icon" sizes="192x192" href="{{ url_for('static', filename='icons/android-icon.png') }}">

    <!-- Microsoft Tiles -->
    <meta name="msapplication-TileImage" content="{{ url_for('static', filename='icons/ms-icon-144x144.png') }}">
    <meta name="msapplication-TileColor" content="#ffffff">

    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}"/>

    <!-- Permite que la app se instale en el dispositivo -->
    <meta name="mobile-web-app-capable" content="yes">
    <!-- Definir el nombre de la app en Android -->
    <meta name="application-name" content="GVA Interins">
    <!-- Definir color de fondo de la pantalla de inicio -->
    <meta name="background-color" content="#ffffff">

    <link rel="stylesheet" href="static/css/style.css"/>
    <script src="static/js/app.js" defer></script>
</head>

<body>
<header>
    <h1><span class="material-symbols-outlined">database_search</span>&nbsp;Buscador de personas interinas (GVA)</h1>
</header>
<main>
  <div class="container">
    <h2>Buscador de personas interinas (GVA)</h2>

    <!-- Tabs -->
    <div class="tabs">
      <button class="tablinks active" onclick="openTab(event, 'secundaria')">Secundaria y otros cuerpos</button>
      <button class="tablinks" onclick="openTab(event, 'maestros')">Maestros</button>
    </div>

    <!-- Contenido Tab Secundaria -->
    <div id="secundaria" class="tabcontent" style="display: block;">
      <h3>Cuerpo de Secundaria y Otros Cuerpos</h3>
      <form method="post" onsubmit="searching()">
        <label for="busqueda">Búsqueda (espere unos instantes para ver sugerencias):</label>
        <div class="input-loader-wrapper">
          <input type="text" name="busqueda" id="busqueda" autocomplete="off" required
                 placeholder="Ejemplo: 'Pérez, Juan, Matemáticas'" aria-describedby="busqueda-ayuda"/>
          <span id="loader" class="material-symbols-outlined">autorenew</span>
        </div>
        <ul id="sugerencias"></ul>
        <div class="botones">
          <button type="submit" aria-label="Buscar">
            <span class="material-symbols-outlined">search</span>Buscar
          </button>
          <button type="button" class="red" onclick="reset_page()" aria-label="Recargar la página">
            <span class="material-symbols-outlined">recycling</span>Recargar
          </button>
          <button type="button" {% if not graph_html %} class="disabled" {% endif %} onclick="download_img()" {% if not graph_html %} disabled {% endif %} aria-label="Descargar la imagen">
            <span class="material-symbols-outlined">download</span>Descargar
          </button>
        </div>
      </form>

      <div class="search-wrapper">
        <span id="searching" class="material-symbols-outlined">data_loss_prevention</span>
      </div>

      {% if error %}
          <p class="error-message">{{ error }}</p>
      {% endif %}

      {% if graph_html %}
      <div id="plotly-container">
          <div id="plotly-graph">
              {{ graph_html|safe }}
          </div>
      </div>
      {% endif %}
    </div>

    <!-- Contenido Tab Maestros -->
    <div id="maestros" class="tabcontent" style="display: none;">
      <h3>Cuerpo de Maestros</h3>
        <p>Contenido en construcción...</p>
        <div class="construction-wrapper">
        <span id="under-construction" class="material-symbols-outlined">construction</span>
      </div>
    </div>
  </div>

    <div class="container">
        <h2>Acerca de...</h2>
        <p><span class="material-symbols-outlined">bar_chart_4_bars</span>&nbsp;Esta aplicación permite buscar personas
            que han formado parte de las bolsas de docentes interinos en la Comunidad Valenciana.</p>
        <p><span class="material-symbols-outlined">contract</span>&nbsp;Los datos actualmente disponibles se
            corresponden con las listas oficiales de interinos para las
            adjudicaciones
            de inicio de curso de años puntuales entre 2004 y 2025. Estas listas calculan la posición de
            cada persona en función de su fecha de incorporación a bolsa (mediante procesos de concurso-oposición, por
            procesos de conformación de bolsas extraordinarias o por acceso a través de adjudicaciones de difícil
            cobertura) y si poseen o no servicios previos.</p>
        <p><span class="material-symbols-outlined">assured_workload</span>&nbsp;La información, de carácter público, es
            divulgada por la <a href="https://ceice.gva.es/es/web/educacion" target="_blank">Conselleria d'Educació
                de la Generalitat Valenciana</a> y retransmitidos por las diferentes agrupaciones sindicales.</p>
        <p><span class="material-symbols-outlined">warning</span>&nbsp;El contenido tiene carácter informativo y puede
            contener errores. Para obtener datos oficiales, consulte las fuentes citadas.</p>
        <p><span class="material-symbols-outlined">calendar_clock</span>&nbsp;Última actualización: 30/07/2025.</p>
    </div>
</main>
<footer>
    <p>© 2025 Carlos González Marco • Todos los derechos reservados</p>
</footer>
</body>

</html>